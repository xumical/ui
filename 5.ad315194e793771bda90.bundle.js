(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{3890:function(module,exports,__webpack_require__){var content=__webpack_require__(3899);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(2).default)("1df4d7b8",content,!0,{})},3891:function(module,exports,__webpack_require__){var content=__webpack_require__(3901);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(2).default)("b3369a68",content,!0,{})},3892:function(module,exports,__webpack_require__){var content=__webpack_require__(3903);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(2).default)("744c65f2",content,!0,{})},3894:function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(3895),baseOrderBy=__webpack_require__(1878),baseRest=__webpack_require__(828),isIterateeCall=__webpack_require__(1879),sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}));module.exports=sortBy},3895:function(module,exports,__webpack_require__){module.exports=__webpack_require__(8)("YpBQ")},3896:function(module,exports){var doc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"lendMenuData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loanChannels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"popular"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"applyMinLoanCount"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:147}};doc.loc.source={body:"query lendMenuData {\n\tlend {\n\t\tloanChannels(popular: true, applyMinLoanCount: true, limit: 50) {\n\t\t\tvalues {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\turl\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var definitionRefs={};function findOperation(doc,name){for(var i=0;i<doc.definitions.length;i++){var element=doc.definitions[i];if(element.name&&element.name.value==name)return element}}!function extractReferences(){doc.definitions.forEach((function(def){if(def.name){var refs=new Set;!function collectFragmentReferences(node,refs){if("FragmentSpread"===node.kind)refs.add(node.name.value);else if("VariableDefinition"===node.kind){var type=node.type;"NamedType"===type.kind&&refs.add(type.name.value)}node.selectionSet&&node.selectionSet.selections.forEach((function(selection){collectFragmentReferences(selection,refs)})),node.variableDefinitions&&node.variableDefinitions.forEach((function(def){collectFragmentReferences(def,refs)})),node.definitions&&node.definitions.forEach((function(def){collectFragmentReferences(def,refs)}))}(def,refs),definitionRefs[def.name.value]=refs}}))}(),module.exports=doc,module.exports.lendMenuData=function oneQuery(doc,operationName){var newDoc={kind:doc.kind,definitions:[findOperation(doc,operationName)]};doc.hasOwnProperty("loc")&&(newDoc.loc=doc.loc);var opRefs=definitionRefs[operationName]||new Set,allRefs=new Set,newRefs=new Set;for(opRefs.forEach((function(refName){newRefs.add(refName)}));newRefs.size>0;){var prevRefs=newRefs;newRefs=new Set,prevRefs.forEach((function(refName){allRefs.has(refName)||(allRefs.add(refName),(definitionRefs[refName]||new Set).forEach((function(childRef){newRefs.add(childRef)})))}))}return allRefs.forEach((function(refName){var op=findOperation(doc,refName);op&&newDoc.definitions.push(op)})),newDoc}(doc,"lendMenuData")},3897:function(module,exports){var doc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"lendMenuPrivateData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"lenderFavorite"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"my"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"savedSearches"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:219}};doc.loc.source={body:"query lendMenuPrivateData($userId: Int) {\n\tlend {\n\t\tloans(limit: 1, filters: {\n\t\t\tlenderFavorite: $userId\n\t\t}) {\n\t\t\ttotalCount\n\t\t}\n\t}\n\tmy {\n\t\tsavedSearches(limit: 10) {\n\t\t\tvalues {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\turl\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var definitionRefs={};function findOperation(doc,name){for(var i=0;i<doc.definitions.length;i++){var element=doc.definitions[i];if(element.name&&element.name.value==name)return element}}!function extractReferences(){doc.definitions.forEach((function(def){if(def.name){var refs=new Set;!function collectFragmentReferences(node,refs){if("FragmentSpread"===node.kind)refs.add(node.name.value);else if("VariableDefinition"===node.kind){var type=node.type;"NamedType"===type.kind&&refs.add(type.name.value)}node.selectionSet&&node.selectionSet.selections.forEach((function(selection){collectFragmentReferences(selection,refs)})),node.variableDefinitions&&node.variableDefinitions.forEach((function(def){collectFragmentReferences(def,refs)})),node.definitions&&node.definitions.forEach((function(def){collectFragmentReferences(def,refs)}))}(def,refs),definitionRefs[def.name.value]=refs}}))}(),module.exports=doc,module.exports.lendMenuPrivateData=function oneQuery(doc,operationName){var newDoc={kind:doc.kind,definitions:[findOperation(doc,operationName)]};doc.hasOwnProperty("loc")&&(newDoc.loc=doc.loc);var opRefs=definitionRefs[operationName]||new Set,allRefs=new Set,newRefs=new Set;for(opRefs.forEach((function(refName){newRefs.add(refName)}));newRefs.size>0;){var prevRefs=newRefs;newRefs=new Set,prevRefs.forEach((function(refName){allRefs.has(refName)||(allRefs.add(refName),(definitionRefs[refName]||new Set).forEach((function(childRef){newRefs.add(childRef)})))}))}return allRefs.forEach((function(refName){var op=findOperation(doc,refName);op&&newDoc.definitions.push(op)})),newDoc}(doc,"lendMenuPrivateData")},3898:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_vue_docgen_loader_lib_index_js_node_modules_thread_loader_dist_cjs_js_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_postcss_node_modules_sass_loader_dist_cjs_js_ref_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_LendListMenu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3890);__webpack_require__.n(_node_modules_vue_docgen_loader_lib_index_js_node_modules_thread_loader_dist_cjs_js_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_postcss_node_modules_sass_loader_dist_cjs_js_ref_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_LendListMenu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__).a},3899:function(module,exports,__webpack_require__){(exports=__webpack_require__(1)(!1)).push([module.i,".lend-list-menu{margin:0}.lend-list-menu button{text-align:left;line-height:inherit;color:#484848}.lend-list-menu button .chevron-icon{float:right;height:1.5rem;width:1.5625rem;-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.lend-list-menu a{color:#484848;text-decoration:none}.lend-list-menu li>span{color:#9d9c9e}.lend-list-menu ul{background-color:#fafafa}.lend-list-menu ul a,.lend-list-menu ul button,.lend-list-menu ul li>span{padding-left:2rem}.lend-list-menu ul ul{background-color:#efefef}.lend-list-menu ul ul a,.lend-list-menu ul ul button,.lend-list-menu ul ul li>span{padding-left:3rem;border-bottom:none}.lend-list-menu button:focus{outline:none}.lend-list-menu button[aria-expanded=true] span{color:#9d9c9e}.lend-list-menu button[aria-expanded=true] .chevron-icon{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}",""]),module.exports=exports},3900:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_vue_docgen_loader_lib_index_js_node_modules_thread_loader_dist_cjs_js_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_postcss_node_modules_sass_loader_dist_cjs_js_ref_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_LendMegaMenu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3891);__webpack_require__.n(_node_modules_vue_docgen_loader_lib_index_js_node_modules_thread_loader_dist_cjs_js_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_postcss_node_modules_sass_loader_dist_cjs_js_ref_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_LendMegaMenu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__).a},3901:function(module,exports,__webpack_require__){(exports=__webpack_require__(1)(!1)).push([module.i,".lend-mega-menu{display:-webkit-box;display:-ms-flexbox;display:flex;padding:1rem 0;white-space:nowrap;overflow:hidden}.lend-mega-menu h2{font-size:1.3125rem;font-weight:400;color:#484848}.lend-mega-menu li{font-size:.875rem;line-height:1.5rem}.lend-mega-menu button:focus{outline:none}.lend-mega-menu>*+*{border-left:1px solid #d8d8d8}.lend-mega-menu .categories-section{overflow:hidden;-webkit-transition:margin .5s ease;transition:margin .5s ease}.lend-mega-menu .categories-section ul{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.lend-mega-menu .categories-section li{padding-right:1rem}.lend-mega-menu .categories-section .last-category{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.lend-mega-menu .close-section{border-left:none}.lend-mega-menu .close-section button{padding:0 1rem}.lend-mega-menu .close-section .close-icon{width:3.25rem;height:6rem;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.lend-mega-menu .middle-section a,.lend-mega-menu .middle-section button,.lend-mega-menu .middle-section h2,.lend-mega-menu .middle-section span,.lend-mega-menu .right-section a,.lend-mega-menu .right-section h2,.lend-mega-menu .right-section span{padding:0 1.5rem}.lend-mega-menu .middle-section button{color:#118aec;padding:0 1.5rem;width:100%;line-height:inherit;text-align:left}.lend-mega-menu .middle-section button:hover{color:#006ed3;text-decoration:underline}.lend-mega-menu .middle-section button[aria-pressed=true]{color:#9d9c9e;text-decoration:none;background-color:#efefef}.lend-mega-menu .middle-section span{color:#9d9c9e}.lend-mega-menu .middle-section .my-kiva-title{margin-top:1.5rem}.lend-mega-menu .right-section span{color:#9d9c9e}",""]),module.exports=exports},3902:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_vue_docgen_loader_lib_index_js_node_modules_thread_loader_dist_cjs_js_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_postcss_node_modules_sass_loader_dist_cjs_js_ref_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TheLendMenu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3892);__webpack_require__.n(_node_modules_vue_docgen_loader_lib_index_js_node_modules_thread_loader_dist_cjs_js_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_postcss_node_modules_sass_loader_dist_cjs_js_ref_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TheLendMenu_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__).a},3903:function(module,exports,__webpack_require__){(exports=__webpack_require__(1)(!1)).push([module.i,".the-lend-menu .loading-spinner{margin:1rem;width:3rem;height:3rem}",""]),module.exports=exports},3906:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var getfrom_dll_reference_storybook_docs_dll=__webpack_require__(3),getfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(getfrom_dll_reference_storybook_docs_dll),groupBy=__webpack_require__(667),groupBy_default=__webpack_require__.n(groupBy),mapfrom_dll_reference_storybook_docs_dll=__webpack_require__(65),mapfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(mapfrom_dll_reference_storybook_docs_dll),sortBy=__webpack_require__(3894),sortBy_default=__webpack_require__.n(sortBy),src=__webpack_require__(21),src_default=__webpack_require__.n(src),comparators=__webpack_require__(668),lendMenuData_graphql=__webpack_require__(3896),lendMenuData_graphql_default=__webpack_require__.n(lendMenuData_graphql),lendMenuPrivateData_graphql=__webpack_require__(3897),lendMenuPrivateData_graphql_default=__webpack_require__.n(lendMenuPrivateData_graphql),KvIcon=__webpack_require__(7),KvLoadingSpinner=__webpack_require__(27),LendMenu_CountryListvue_type_script_lang_js_={props:{countries:{type:Array,default:function _default(){return[]}}}},componentNormalizer=__webpack_require__(0);const __vuedocgen_export_0=Object(componentNormalizer.a)(LendMenu_CountryListvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ul",_vm._l(_vm.countries,(function(country){return _c("li",{key:country.isoCode},[country.count>0?_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Country",country.name],expression:"['TopNav', 'click-Lend-Country', country.name]"}],attrs:{to:{path:"/lend",query:{country:country.isoCode}}}},[_vm._v("\n\t\t\t"+_vm._s(country.name)+" ("+_vm._s(country.count)+")\n\t\t")]):_c("span",[_vm._v("\n\t\t\t"+_vm._s(country.name)+" (0)\n\t\t")])],1)})),0)}),[],!1,null,null,null).exports;var CountryList=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"CountryList",description:"",tags:{},props:[{name:"countries",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}]};var KvExpandable=__webpack_require__(219),LendMenu_ExpandableListItemvue_type_script_lang_js_={components:{KvExpandable:KvExpandable.a},props:{id:{type:String,required:!0,validator:function validator(v){return v.length>0&&!/\s/g.test(v)}},startOpen:{type:Boolean,required:!1,default:!1}},data:function data(){return{open:this.startOpen}},methods:{toggle:function toggle(){this.open=!this.open},expand:function expand(){this.open=!0},collapse:function collapse(){this.open=!1}}};const ExpandableListItem_vuedocgen_export_0=Object(componentNormalizer.a)(LendMenu_ExpandableListItemvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("li",{staticClass:"expandable-list-item"},[_c("button",{attrs:{"aria-controls":_vm.id,"aria-expanded":_vm.open?"true":"false"},on:{click:_vm.toggle}},[_vm._t("title")],2),_vm._v(" "),_c("kv-expandable",{attrs:{easing:"ease-in-out"}},[_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.open,expression:"open"}],staticClass:"kv-expandable-pane",attrs:{id:_vm.id,"aria-hidden":_vm.open?"false":"true"}},[_vm._t("default")],2)])],1)}),[],!1,null,null,null).exports;var ExpandableListItem=ExpandableListItem_vuedocgen_export_0;ExpandableListItem_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"ExpandableListItem",description:"",tags:{},props:[{name:"id",type:{name:"string"},required:!0},{name:"startOpen",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],slots:[{name:"title"},{name:"default"}]};var LendMenu_SearchListvue_type_script_lang_js_={props:{searches:{type:Array,default:function _default(){return[]}}}};const SearchList_vuedocgen_export_0=Object(componentNormalizer.a)(LendMenu_SearchListvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ul",[_vm._l(_vm.searches,(function(search){return _c("li",{key:search.id},[_c("a",{attrs:{href:search.url}},[_vm._v(_vm._s(search.name))])])})),_vm._v(" "),_c("li",[_c("router-link",{attrs:{to:"/lend/saved-search"}},[_vm._v("\n\t\t\tManage saved searches\n\t\t")])],1)],2)}),[],!1,null,null,null).exports;var SearchList=SearchList_vuedocgen_export_0;SearchList_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"SearchList",description:"",tags:{},props:[{name:"searches",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}]};var LendMenu_LendListMenuvue_type_script_lang_js_={components:{CountryList:CountryList,ExpandableListItem:ExpandableListItem,KvIcon:KvIcon.a,SearchList:SearchList,KvLoadingSpinner:KvLoadingSpinner.a},props:{categories:{type:Array,default:function _default(){return[]}},favorites:{type:Number,default:0},userId:{type:Number,default:null},regions:{type:Array,default:function _default(){return[]}},searches:{type:Array,default:function _default(){return[]}},isRegionsLoading:{type:Boolean,default:!0},isChannelsLoading:{type:Boolean,default:!0}},computed:{hasSearches:function hasSearches(){return this.searches.length>0}},methods:{onClose:function onClose(){this.categories.length&&this.$refs.categories.collapse(),this.regions.length&&(this.$refs.regions.collapse(),this.$refs.regionCountries.forEach((function(region){return region.collapse()}))),this.userId&&this.$refs.myKiva.collapse(),this.hasSearches&&this.$refs.searches.collapse()}}};__webpack_require__(3898);const LendListMenu_vuedocgen_export_0=Object(componentNormalizer.a)(LendMenu_LendListMenuvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ul",{staticClass:"lend-list-menu"},[_c("router-link",{attrs:{to:"/lend-by-category"}},[_vm._v("\n\t\tExplore Categories\n\t")]),_vm._v(" "),_c("expandable-list-item",{ref:"categories",attrs:{id:"lend-menu-category-panel"}},[_c("template",{slot:"title"},[_c("span",[_vm._v("Categories")]),_vm._v(" "),_c("kv-icon",{staticClass:"chevron-icon",attrs:{name:"small-chevron-mobile","from-sprite":!0}})],1),_vm._v(" "),_c("ul",[_vm.isChannelsLoading?_c("li",[_c("kv-loading-spinner")],1):_vm._e(),_vm._v(" "),_vm._l(_vm.categories,(function(category,index){return _c("li",{key:index},[_c("a",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Category",category.name,index+1],expression:"['TopNav', 'click-Lend-Category', category.name, index + 1]"}],attrs:{href:category.url}},[_vm._v("\n\t\t\t\t\t"+_vm._s(category.name)+"\n\t\t\t\t")])])}))],2)],2),_vm._v(" "),_c("expandable-list-item",{ref:"regions",attrs:{id:"lend-menu-region-panel"}},[_c("template",{slot:"title"},[_c("span",[_vm._v("Regions")]),_vm._v(" "),_c("kv-icon",{staticClass:"chevron-icon",attrs:{name:"small-chevron-mobile","from-sprite":!0}})],1),_vm._v(" "),_c("ul",[_vm.isRegionsLoading?_c("li",[_c("kv-loading-spinner")],1):_vm._e(),_vm._v(" "),_vm._l(_vm.regions,(function(region){return _c("expandable-list-item",{key:region.name,ref:"regionCountries",refInFor:!0,attrs:{id:_vm._f("changeCase")("lend-menu-"+region.name+"-panel","paramCase")}},[_c("template",{slot:"title"},[_c("span",[_vm._v(_vm._s(region.name))]),_vm._v(" "),_c("kv-icon",{staticClass:"chevron-icon",attrs:{name:"small-chevron-mobile","from-sprite":!0}})],1),_vm._v(" "),_c("country-list",{attrs:{countries:region.countries}})],2)}))],2)],2),_vm._v(" "),_c("router-link",{attrs:{to:"/lend"}},[_vm._v("\n\t\tAll loans\n\t")]),_vm._v(" "),_vm.userId?_c("expandable-list-item",{ref:"myKiva",attrs:{id:"lend-menu-my-kiva-panel"}},[_c("template",{slot:"title"},[_c("span",[_vm._v("My Kiva")]),_vm._v(" "),_c("kv-icon",{staticClass:"chevron-icon",attrs:{name:"small-chevron-mobile","from-sprite":!0}})],1),_vm._v(" "),_c("ul",[_c("li",[_vm.favorites>0?_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Favorites"],expression:"['TopNav','click-Lend-Favorites']"}],attrs:{to:{path:"/lend",query:{lenderFavorite:_vm.userId}}}},[_vm._v("\n\t\t\t\t\tStarred loans\n\t\t\t\t")]):_c("span",[_vm._v("Starred loans")])],1),_vm._v(" "),_vm.hasSearches?_c("expandable-list-item",{ref:"searches",attrs:{id:"lend-menu-saved-searches-panel"}},[_c("template",{slot:"title"},[_c("span",[_vm._v("Saved searches")]),_vm._v(" "),_c("kv-icon",{staticClass:"chevron-icon",attrs:{name:"small-chevron-mobile","from-sprite":!0}})],1),_vm._v(" "),_c("search-list",{attrs:{searches:_vm.searches}})],2):_c("li",[_c("span",[_vm._v("Saved searches")])]),_vm._v(" "),_c("li",[_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Countries_Not_Lent"],expression:"['TopNav','click-Lend-Countries_Not_Lent']"}],attrs:{to:"/lend/countries-not-lent"}},[_vm._v("\n\t\t\t\t\tCountries I haven't lent to\n\t\t\t\t")])],1)],1)],2):_vm._e()],1)}),[],!1,null,null,null).exports;var LendListMenu=LendListMenu_vuedocgen_export_0;LendListMenu_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"LendListMenu",description:"",tags:{},props:[{name:"categories",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"favorites",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"userId",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"regions",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"searches",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"isRegionsLoading",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isChannelsLoading",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}]};var numeral=__webpack_require__(5),numeral_default=__webpack_require__.n(numeral),LendMenu_LendMegaMenuvue_type_script_lang_js_={components:{KvLoadingSpinner:KvLoadingSpinner.a,CountryList:CountryList,KvExpandable:KvExpandable.a,KvIcon:KvIcon.a,SearchList:SearchList},props:{categories:{type:Array,default:function _default(){return[]}},favorites:{type:Number,default:0},isRegionsLoading:{type:Boolean,default:!0},isChannelsLoading:{type:Boolean,default:!0},userId:{type:Number,default:null},regions:{type:Array,default:function _default(){return[]}},searches:{type:Array,default:function _default(){return[]}}},data:function data(){return{categoriesWidth:null,openedSection:"",savedSearchesTitle:"Saved searches"}},computed:{categoriesStyle:function categoriesStyle(){return{height:"".concat(1.5*Math.ceil((this.categories.length+3)/2),"rem"),width:this.categoriesWidth}},categoriesMargin:function categoriesMargin(){return this.categoriesWidth&&this.sectionOpen?"-".concat(this.categoriesWidth):"1rem"},hasSearches:function hasSearches(){return this.searches.length>0},sectionOpen:function sectionOpen(){return""!==this.openedSection},openRegions:function openRegions(){var _this=this;return this.regions.filter((function(region){return _this.isOpenSection(region.name)}))}},watch:{categories:function categories(){this.checkCategoryWidth()}},methods:{checkCategoryWidth:function checkCategoryWidth(){var _this2=this;this.categoriesWidth=null,0===this.categories.length?this.categoriesWidth="257px":this.$nextTick((function(){var firstColumnWidth=_this2.getRefWidth("categories[0]"),secondColumnWidth=_this2.getRefWidth("allLoans");_this2.categoriesWidth="".concat(firstColumnWidth+secondColumnWidth,"px")}))},getRefWidth:function getRefWidth(refPath){var ref=getfrom_dll_reference_storybook_docs_dll_default()(this.$refs,refPath);if(ref){var widthValue=window.getComputedStyle(ref).getPropertyValue("width");return Math.ceil(numeral_default()(widthValue).value())}return 0},onOpen:function onOpen(){this.checkCategoryWidth()},onClose:function onClose(){this.closeSection()},isOpenSection:function isOpenSection(section){return this.openedSection===section},openSection:function openSection(section){this.isOpenSection(section)?this.closeSection():this.openedSection=section},closeSection:function closeSection(){this.openedSection=""}},mounted:function mounted(){this.checkCategoryWidth()}};__webpack_require__(3900);const LendMegaMenu_vuedocgen_export_0=Object(componentNormalizer.a)(LendMenu_LendMegaMenuvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"lend-mega-menu"},[_c("div",{staticClass:"categories-section",style:{marginLeft:_vm.categoriesMargin}},[_c("h2",[_vm._v("Categories")]),_vm._v(" "),_vm.isChannelsLoading?_c("kv-loading-spinner"):_vm._e(),_vm._v(" "),_c("ul",{style:_vm.categoriesStyle},[_vm._l(_vm.categories,(function(category,index){return _c("li",{key:index,ref:"categories",refInFor:!0,class:{"last-category":category==_vm.categories[_vm.categories.length-1]}},[_c("a",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Category",category.name,index+1],expression:"['TopNav', 'click-Lend-Category', category.name, index + 1]"}],attrs:{href:category.url}},[_vm._v("\n\t\t\t\t\t"+_vm._s(category.name)+"\n\t\t\t\t")])])})),_vm._v(" "),_c("li",[_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-All_Categories"],expression:"['TopNav','click-Lend-All_Categories']"}],attrs:{to:"/categories"}},[_vm._v("\n\t\t\t\t\tAll categories\n\t\t\t\t")])],1),_vm._v(" "),_c("li",{ref:"allLoans"},[_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-All_Loans"],expression:"['TopNav','click-Lend-All_Loans']"}],attrs:{to:"/lend"}},[_vm._v("\n\t\t\t\t\tAll loans\n\t\t\t\t")])],1)],2)],1),_vm._v(" "),_c("kv-expandable",{attrs:{property:"width"}},[_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.sectionOpen,expression:"sectionOpen"}],staticClass:"close-section"},[_c("button",{on:{click:_vm.closeSection}},[_c("kv-icon",{staticClass:"close-icon",attrs:{name:"medium-chevron","from-sprite":!0}})],1)])]),_vm._v(" "),_c("div",{staticClass:"middle-section"},[_c("h2",[_vm._v("Regions")]),_vm._v(" "),_vm.isRegionsLoading?_c("kv-loading-spinner"):_vm._e(),_vm._v(" "),_c("ul",_vm._l(_vm.regions,(function(region){return _c("li",{key:region.name},[_c("button",{attrs:{"aria-pressed":_vm.isOpenSection(region.name)?"true":"false"},on:{click:function($event){return _vm.openSection(region.name)}}},[_vm._v("\n\t\t\t\t\t"+_vm._s(region.name)+"\n\t\t\t\t")])])})),0),_vm._v(" "),_vm.userId?_c("h2",{staticClass:"my-kiva-title"},[_vm._v("\n\t\t\tMy Kiva\n\t\t")]):_vm._e(),_vm._v(" "),_vm.userId?_c("ul",[_c("li",[_vm.favorites>0?_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Favorites"],expression:"['TopNav','click-Lend-Favorites']"}],attrs:{to:{path:"/lend",query:{lenderFavorite:_vm.userId}}}},[_vm._v("\n\t\t\t\t\tStarred loans\n\t\t\t\t")]):_c("span",[_vm._v("Starred loans")])],1),_vm._v(" "),_c("li",[_vm.hasSearches?_c("button",{attrs:{"aria-pressed":_vm.isOpenSection(_vm.savedSearchesTitle)?"true":"false"},on:{click:function($event){return _vm.openSection(_vm.savedSearchesTitle)}}},[_vm._v("\n\t\t\t\t\t"+_vm._s(_vm.savedSearchesTitle)+"\n\t\t\t\t")]):_c("span",[_vm._v("Saved searches")])]),_vm._v(" "),_c("li",[_c("router-link",{directives:[{name:"kv-track-event",rawName:"v-kv-track-event",value:["TopNav","click-Lend-Countries_Not_Lent"],expression:"['TopNav','click-Lend-Countries_Not_Lent']"}],attrs:{to:"/lend/countries-not-lent"}},[_vm._v("\n\t\t\t\t\tCountries I haven't lent to\n\t\t\t\t")])],1)]):_vm._e()],1),_vm._v(" "),_c("kv-expandable",{attrs:{property:"width","skip-leave":!0}},[_vm._l(_vm.openRegions,(function(region){return _c("div",{key:region.name,staticClass:"right-section"},[_c("h2",[_vm._v(_vm._s(region.name))]),_vm._v(" "),_c("country-list",{attrs:{countries:region.countries}})],1)})),_vm._v(" "),_vm.isOpenSection(_vm.savedSearchesTitle)?_c("div",{staticClass:"right-section"},[_c("h2",[_vm._v(_vm._s(_vm.savedSearchesTitle))]),_vm._v(" "),_c("search-list",{attrs:{searches:_vm.searches}})],1):_vm._e()],2)],1)}),[],!1,null,null,null).exports;var LendMegaMenu=LendMegaMenu_vuedocgen_export_0;function _templateObject2(){var data=_taggedTemplateLiteral(["query countryFacets {\n\t\t\t\t\tlend {\n\t\t\t\t\t\tcountryFacets {\n\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\tcountry {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\tregion\n\t\t\t\t\t\t\t\tisoCode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["query lendMenu {\n\t\tmy {\n\t\t\tuserAccount {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}"]);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}LendMegaMenu_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"LendMegaMenu",description:"",tags:{},props:[{name:"categories",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"favorites",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"isRegionsLoading",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"isChannelsLoading",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"userId",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"regions",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"searches",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}]};var LendMenu_TheLendMenuvue_type_script_lang_js_={components:{LendListMenu:LendListMenu,LendMegaMenu:LendMegaMenu},inject:["apollo"],data:function data(){return{userId:null,categories:[],countryFacets:[],favoritesCount:0,savedSearches:[],regionDisplayOrder:["North America","Central America","South America","Africa","Eastern Europe","Middle East","Asia","Oceania"],loadingSemaphore:0,isRegionsLoading:!0,isChannelsLoading:!0}},apollo:{query:src_default()(_templateObject()),preFetch:!0,result:function result(_ref){var data=_ref.data;this.userId=getfrom_dll_reference_storybook_docs_dll_default()(data,"my.userAccount.id")}},computed:{regions:function regions(){var facets=mapfrom_dll_reference_storybook_docs_dll_default()(this.countryFacets,(function(facet){return{name:facet.country.name,region:facet.country.region,isoCode:facet.country.isoCode.toLowerCase(),count:facet.count||0}})),groups=groupBy_default()(facets,"region"),regions=mapfrom_dll_reference_storybook_docs_dll_default()(groups,(function(countries,name){return{name:name,countries:sortBy_default()(countries,"name")}}));return regions.sort(Object(comparators.a)(this.regionDisplayOrder,"name"))},computedCategories:function computedCategories(){return mapfrom_dll_reference_storybook_docs_dll_default()(this.categories,(function(category){var updatedCat=JSON.parse(JSON.stringify(category));return updatedCat.url=updatedCat.url.replace("lend","lend-by-category"),updatedCat}))},hasUserId:function hasUserId(){return!!this.userId}},methods:{onOpen:function onOpen(){this.$refs.mega.onOpen()},onClose:function onClose(){this.$refs.list.onClose(),this.$refs.mega.onClose()},onLoad:function onLoad(){var _this=this;this.apollo.watchQuery({query:src_default()(_templateObject2())}).subscribe({next:function next(_ref2){var data=_ref2.data;_this.countryFacets=getfrom_dll_reference_storybook_docs_dll_default()(data,"lend.countryFacets"),_this.isRegionsLoading=!1}}),this.apollo.watchQuery({query:lendMenuData_graphql_default.a}).subscribe({next:function next(_ref3){var data=_ref3.data;_this.categories=getfrom_dll_reference_storybook_docs_dll_default()(data,"lend.loanChannels.values"),_this.isChannelsLoading=!1}})}},mounted:function mounted(){var _this2=this;this.apollo.query({query:lendMenuPrivateData_graphql_default.a,variables:{userId:this.userId}}).then((function(_ref4){var data=_ref4.data;_ref4.errors?(_this2.favoritesCount=0,_this2.savedSearches=[]):(_this2.favoritesCount=getfrom_dll_reference_storybook_docs_dll_default()(data,"lend.loans.totalCount"),_this2.savedSearches=getfrom_dll_reference_storybook_docs_dll_default()(data,"my.savedSearches.values"))})).finally((function(){_this2.onOpen()}))}};__webpack_require__(3902);const TheLendMenu_vuedocgen_export_0=Object(componentNormalizer.a)(LendMenu_TheLendMenuvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"the-lend-menu"},[_c("lend-list-menu",{ref:"list",staticClass:"hide-for-large",attrs:{categories:_vm.computedCategories,regions:_vm.regions,searches:_vm.savedSearches,favorites:_vm.favoritesCount,"user-id":_vm.userId,"is-regions-loading":_vm.isRegionsLoading,"is-channels-loading":_vm.isChannelsLoading}}),_vm._v(" "),_c("lend-mega-menu",{ref:"mega",staticClass:"show-for-large",attrs:{categories:_vm.computedCategories,regions:_vm.regions,searches:_vm.savedSearches,favorites:_vm.favoritesCount,"user-id":_vm.userId,"is-regions-loading":_vm.isRegionsLoading,"is-channels-loading":_vm.isChannelsLoading}})],1)}),[],!1,null,null,null).exports;__webpack_exports__.default=TheLendMenu_vuedocgen_export_0;TheLendMenu_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"TheLendMenu",description:"",tags:{}}}}]);
//# sourceMappingURL=5.ad315194e793771bda90.bundle.js.map